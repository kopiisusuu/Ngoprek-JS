<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Materi JS Interaktif â€“ Try/Catch, Switch, Looping</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto; background:#f5f5f5; padding:20px;}
    .tab-btn{padding:10px 16px; border-radius:999px; background:#e0e7ff; color:#3730a3; cursor:pointer; font-weight:600; transition:0.2s;}
    .tab-btn.active{background:#c7d2fe; box-shadow:0 4px 12px rgba(99,102,241,.15);}
    .mission-box{background:#fff; border-radius:16px; padding:16px; box-shadow:0 6px 20px rgba(0,0,0,.05); margin-top:20px;}
    textarea.code{width:100%; min-height:180px; border-radius:12px; border:1px solid #c7d2fe; background:#f3f4f6; font-family: monospace; padding:12px; margin-bottom:8px;}
    .out{background:#111827; color:#f3f4f6; padding:12px; border-radius:12px; min-height:80px; white-space:pre-wrap; margin-top:8px; font-family: monospace;}
    .pulse{animation:pulse .8s ease}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(99,102,241,0)}50%{box-shadow:0 0 0 6px rgba(99,102,241,.15)}100%{box-shadow:0 0 0 0 rgba(99,102,241,0)}}
    .flex-gap{display:flex; gap:8px; flex-wrap:wrap;}
  </style>
</head>
<body>
  <h1 class="text-2xl font-bold text-gray-800 mb-4">Materi JavaScript Interaktif</h1>
  <p class="mb-4 text-gray-600">Pelajari Try/Catch, Switch/Case, dan Looping dengan eksperimen langsung di textarea kode!</p>

  <!-- Tabs -->
  <div class="flex gap-2 mb-4 flex-wrap" id="tabs">
    <button class="tab-btn active" data-target="#tryCatch">Try...Catch</button>
    <button class="tab-btn" data-target="#switchCase">Switch...Case</button>
    <button class="tab-btn" data-target="#looping">Looping</button>
  </div>

  <!-- Try...Catch -->
  <div id="tryCatch" class="mission-box">
    <h2 class="text-lg font-semibold text-yellow-700 mb-2">Try...Catch</h2>
    <p>ðŸŽ¯ Tujuan: Menangani error agar aplikasi tidak crash.</p>
    <textarea id="codeTry" class="code">
// Contoh bawaan: menangani error
try {
  let result = someUndefinedFunction(); // Error!
  console.log("Hasil:", result);
} catch (err) {
  console.log("Terjadi error:", err.message);
}
    </textarea>
    <div class="flex-gap">
      <button id="runTry" class="px-4 py-2 bg-yellow-500 text-white rounded-lg shadow hover:bg-yellow-600">Jalankan â–¶</button>
      <button id="resetTry" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg shadow hover:bg-gray-400">Reset â†º</button>
    </div>
    <div id="outTry" class="out"></div>
  </div>

  <!-- Switch...Case -->
  <div id="switchCase" class="mission-box hidden">
    <h2 class="text-lg font-semibold text-indigo-700 mb-2">Switch...Case</h2>
    <p>ðŸŽ¯ Tujuan: Memilih aksi berdasarkan nilai variabel.</p>
    <textarea id="codeSwitch" class="code">
// Contoh bawaan: switch case
let fruit = "apel";

switch(fruit) {
  case "apel":
    console.log("Ini buah apel");
    break;
  case "pisang":
    console.log("Ini buah pisang");
    break;
  default:
    console.log("Buah tidak diketahui");
}
    </textarea>
    <div class="flex-gap">
      <button id="runSwitch" class="px-4 py-2 bg-indigo-500 text-white rounded-lg shadow hover:bg-indigo-600">Jalankan â–¶</button>
      <button id="resetSwitch" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg shadow hover:bg-gray-400">Reset â†º</button>
    </div>
    <div id="outSwitch" class="out"></div>
  </div>

  <!-- Looping -->
  <div id="looping" class="mission-box hidden">
    <h2 class="text-lg font-semibold text-green-700 mb-2">Looping</h2>
    <p>ðŸŽ¯ Tujuan: Mengulang aksi beberapa kali dengan <code>for</code> atau <code>while</code>.</p>
    <textarea id="codeLoop" class="code">
// Contoh bawaan: looping
for(let i=1; i<=5; i++){
  console.log("Perulangan ke-", i);
}
    </textarea>
    <div class="flex-gap">
      <button id="runLoop" class="px-4 py-2 bg-green-500 text-white rounded-lg shadow hover:bg-green-600">Jalankan â–¶</button>
      <button id="resetLoop" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg shadow hover:bg-gray-400">Reset â†º</button>
    </div>
    <div id="outLoop" class="out"></div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    // ---------- Tabs ----------
    $("#tabs .tab-btn").click(function(){
      $("#tabs .tab-btn").removeClass("active");
      $(this).addClass("active");
      $(".mission-box").addClass("hidden");
      $($(this).data("target")).removeClass("hidden");
    });

    // ---------- Default codes ----------
    const defaultTry = $("#codeTry").val();
    const defaultSwitch = $("#codeSwitch").val();
    const defaultLoop = $("#codeLoop").val();

    $("#resetTry").click(()=>$("#codeTry").val(defaultTry));
    $("#resetSwitch").click(()=>$("#codeSwitch").val(defaultSwitch));
    $("#resetLoop").click(()=>$("#codeLoop").val(defaultLoop));

    // ---------- Run code safely ----------
    function runCode(id){
      const code = $("#" + id).val();
      const outEl = $("#out" + id.replace("code",""));
      const logs = [];
      const origLog = console.log;
      console.log = (...args)=>{ logs.push(args.join(' ')); origLog.apply(console,args); };
      try{
        new Function(code)();
        outEl.text(logs.join("\n") || "âœ” Kode dijalankan tanpa output (gunakan console.log)");
      } catch(e){
        outEl.text("âœ– Error: " + e.message);
      } finally{
        console.log = origLog;
        outEl.removeClass("pulse"); void outEl.offsetWidth; outEl.addClass("pulse");
      }
    }

    $("#runTry").click(()=>runCode("codeTry"));
    $("#runSwitch").click(()=>runCode("codeSwitch"));
    $("#runLoop").click(()=>runCode("codeLoop"));
  </script>
</body>
</html>
