<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Supermarket jQuery Missions ‚Äì Belajar jQuery</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    textarea.code{
      width:100%; min-height:150px; resize:vertical; font-family: monospace; 
      background:#1e293b; color:#f1f5f9; border-radius:12px; padding:10px;
      border:1px solid #334155;
    }
    .out{background:#0f172a; color:#e5e7eb; padding:10px; border-radius:12px; min-height:80px; white-space:pre-wrap;}
    .pulse{animation:pulse .8s ease}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(37,99,235,.0)}50%{box-shadow:0 0 0 6px rgba(37,99,235,.15)}100%{box-shadow:0 0 0 0 rgba(37,99,235,.0)}}
  </style>
</head>
<body class="bg-gradient-to-b from-pink-50 to-white min-h-screen p-6 flex justify-center">

<div class="w-full max-w-4xl bg-white rounded-2xl shadow-2xl p-6 space-y-6">

  <!-- Header & Intro -->
  <div>
    <div class="flex gap-2">
            <h1><a href="../materi.html">‚ùå</a></h1>
            <h1>Supermarket Array Methods</h1>
        </div>
        
        <p class="text-gray-600 mb-4">Belajar jQuery interaktif: <strong>Alert, Interactive Box, Click Counter</strong> dengan misi dan kode yang bisa kamu ubah ‚ú®</p>
    <details class="mb-4">
      <summary class="cursor-pointer font-semibold text-pink-600">Apa itu jQuery?</summary>
      <p class="mt-2 text-gray-700">
        jQuery adalah library JavaScript yang mempermudah manipulasi <em>DOM</em>, event handling, animasi, dan AJAX. 
        Dengan jQuery, kamu bisa menulis kode lebih singkat untuk membuat interaksi web yang dinamis. 
        <br>Manfaat: mempersingkat kode, kompatibel lintas browser, dan mempermudah membuat efek interaktif.
      </p>
    </details>
  </div>

  <!-- Tabs -->
  <div class="flex gap-2 flex-wrap mb-4">
    <button class="tab-btn px-4 py-2 rounded-full bg-pink-100 text-pink-600 font-medium shadow-sm" data-target="#mission1">Mission 1 ¬∑ Alert</button>
    <button class="tab-btn px-4 py-2 rounded-full bg-gray-100 text-gray-600 font-medium shadow-sm" data-target="#mission2">Mission 2 ¬∑ Interactive Box</button>
    <button class="tab-btn px-4 py-2 rounded-full bg-gray-100 text-gray-600 font-medium shadow-sm" data-target="#mission3">Mission 3 ¬∑ Click Counter</button>
  </div>

  <!-- Mission 1: Alert -->
  <div id="mission1" class="mission-box bg-pink-50 rounded-xl p-4 shadow-inner">
    <h2 class="text-lg font-semibold text-pink-700 mb-2">Mission 1: Alert</h2>
    <p class="mb-2 text-gray-700">Klik tombol atau ubah kode di bawah, lalu jalankan untuk menampilkan alert:</p>
    <textarea id="code1" class="code">
// Contoh: tampilkan pesan alert
$("#alertBtn").click(function(){
  alert("Halo! üéâ Ini adalah alert dari jQuery!");
});
    </textarea>
    <div class="mt-2 flex gap-2">
      <button id="run1" class="px-4 py-2 bg-pink-500 text-white rounded-lg shadow hover:bg-pink-600">Jalankan ‚ñ∂</button>
      <button id="reset1" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg shadow hover:bg-gray-400">Reset ‚Ü∫</button>
    </div>
    <div class="mt-2 out" id="out1"></div>
    <button id="alertBtn" class="mt-2 px-4 py-2 bg-pink-600 text-white rounded-lg shadow hover:bg-pink-700">Show Alert</button>
  </div>

  <!-- Mission 2: Interactive Box -->
  <div id="mission2" class="mission-box hidden bg-pink-50 rounded-xl p-4 shadow-inner">
    <h2 class="text-lg font-semibold text-pink-700 mb-2">Mission 2: Interactive Box</h2>
    <p class="mb-2 text-gray-700">Klik tombol atau ubah kode di bawah untuk mengubah warna kotak:</p>
    <textarea id="code2" class="code">
// Contoh: ubah warna kotak secara acak
$("#colorBtn").click(function(){
  const colors = ["bg-pink-300","bg-yellow-300","bg-blue-300","bg-green-300","bg-purple-300"];
  const randomColor = colors[Math.floor(Math.random()*colors.length)];
  $("#colorBox").removeClass().addClass("w-40 h-40 rounded-lg shadow-lg").addClass(randomColor);
});
    </textarea>
    <div class="mt-2 flex gap-2">
      <button id="run2" class="px-4 py-2 bg-green-500 text-white rounded-lg shadow hover:bg-green-600">Jalankan ‚ñ∂</button>
      <button id="reset2" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg shadow hover:bg-gray-400">Reset ‚Ü∫</button>
    </div>
    <div class="mt-2 out" id="out2"></div>
    <div id="colorBox" class="w-40 h-40 bg-pink-300 rounded-lg shadow-lg mt-2"></div>
    <button id="colorBtn" class="mt-2 px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700">Change Color</button>
  </div>

  <!-- Mission 3: Click Counter -->
  <div id="mission3" class="mission-box hidden bg-pink-50 rounded-xl p-4 shadow-inner">
    <h2 class="text-lg font-semibold text-pink-700 mb-2">Mission 3: Click Counter</h2>
    <p class="mb-2 text-gray-700">Klik tombol atau jalankan kode untuk menghitung klik:</p>
    <textarea id="code3" class="code">
// Contoh: hitung klik tombol
let count = 0;
$("#countBtn").click(function(){
  count++;
  $("#counter").text(count);
});
    </textarea>
    <div class="mt-2 flex gap-2">
      <button id="run3" class="px-4 py-2 bg-purple-500 text-white rounded-lg shadow hover:bg-purple-600">Jalankan ‚ñ∂</button>
      <button id="reset3" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg shadow hover:bg-gray-400">Reset ‚Ü∫</button>
    </div>
    <div class="mt-2 out" id="out3"></div>
    <button id="countBtn" class="mt-2 px-4 py-2 bg-purple-600 text-white rounded-lg shadow hover:bg-purple-700">Click Me!</button>
    <p class="mt-2 text-gray-800">Total clicks: <span id="counter" class="font-bold text-purple-600">0</span></p>
  </div>

</div>

<script>
  // Tab switching
  $(".tab-btn").click(function () {
    $(".tab-btn").removeClass("bg-pink-100 text-pink-600").addClass("bg-gray-100 text-gray-600");
    $(this).removeClass("bg-gray-100 text-gray-600").addClass("bg-pink-100 text-pink-600");
    $(".mission-box").addClass("hidden");
    $($(this).data("target")).removeClass("hidden");
  });

  // ---------- Reset bawaan ----------
  const defaultCode = {
    code1: $("#code1").val(),
    code2: $("#code2").val(),
    code3: $("#code3").val()
  };
  $("#reset1").click(()=>$("#code1").val(defaultCode.code1));
  $("#reset2").click(()=>$("#code2").val(defaultCode.code2));
  $("#reset3").click(()=>$("#code3").val(defaultCode.code3));

  // ---------- Jalankan kode dari textarea ----------
  function runCode(id, extraVars={}){
    const code = $("#" + id).val();
    const outEl = $("#out"+id.charAt(id.length-1));
    const logs = [];
    const origLog = console.log;
    console.log = (...args)=>{ logs.push(args.join(' ')); origLog.apply(console,args); };
    try{
      const fn = new Function("$", "jQuery", ...Object.keys(extraVars), code);
      fn($, jQuery, ...Object.values(extraVars));
      outEl.text(logs.join("\n") || "‚úî Kode dijalankan tanpa output (gunakan console.log)");
    }catch(e){
      outEl.text("‚úñ Error: " + e.message);
    }finally{
      console.log = origLog;
      outEl.removeClass("pulse"); void outEl.offsetWidth; outEl.addClass("pulse");
    }
  }

  $("#run1").click(()=>runCode("code1"));
  $("#run2").click(()=>runCode("code2"));
  $("#run3").click(()=>runCode("code3"));
</script>
</body>
</html>
